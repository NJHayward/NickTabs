(function(n){n.fn.nickTabs=function(t){function y(){f.TabContentHeight!==null&&typeof f.TabContentHeight!="string"&&(f.TabContentHeight=l)}function p(){var r=[],f=[],t,n;for(u.children("div").each(function(){r.push(jQuery(this).html());f.push(jQuery(this).attr("nicktabs-title"));jQuery(this).remove()}),u.append('<div id="'+i+'" class="nicktabs-parent"><\/div>'),t=jQuery("#"+i),t.append('<div id="'+i+'-hdrs" class="nickTabHeaders"><\/div>'),t.append('<div id="'+i+'-conts" class="nickTabContents"><\/div>'),t.append('<input type="hidden" id="'+i+'-maxTabId" name="'+i+'-maxTabId" value="0" />'),n=0;n<r.length;n++)a(f[n],r[n]);return o(0),c()}function a(n,t){function u(n){jQuery("#"+i+"-hdrs").append('<div id="'+i+"-hdr-"+r+'" nicktab-rowNum="'+r+'" class="nickTabHeader">'+(n===null||n.trim()===""?"&nbsp;":n)+"<\/div>");jQuery("#"+i+"-hdr-"+r).click(k)}function e(n){var t="",u="";f.TabContentHeight!==null&&(t="nickTabContentWithHeight",u='style="height: '+f.TabContentHeight+';" ');jQuery("#"+i+"-conts").append('<div id="'+i+"-cont-"+r+'" class="nickTabContent '+t+'" '+u+'><input type="hidden" id="'+i+"-isPresent-"+r+'" name="'+i+"-isPresent-"+r+'" value="true" />'+n+"<\/div>")}u(n);e(t);jQuery("#"+i+"-maxTabId").val(r);s++;r++}function w(n,t){var i,u;return v(),i=t,t.substring(0,1)==="#"&&(i=jQuery(t).html(),jQuery(t).remove()),u=r.valueOf(),a(n,i),o(u),c()}function b(n){var t,r;return jQuery("#"+i+"-hdr-"+n).remove(),jQuery("#"+i+"-cont-"+n).remove(),s--,t=e,e===null?(r=jQuery("#"+i+"-hdrs").children().first(),t=jQuery(r).attr("nicktab-rowNum")):e=null,o(t),c()}function k(){var n=jQuery(this).attr("nicktab-rowNum");v();o(n)}function v(){jQuery("#"+u.attr("id")+" .nickTabHeader-selected").removeClass("nickTabHeader-selected");jQuery("#"+u.attr("id")+" .nickTabContent-selected").removeClass("nickTabContent-selected");e=h}function o(n){jQuery("#"+i+"-hdr-"+n).addClass("nickTabHeader-selected");jQuery("#"+i+"-cont-"+n).addClass("nickTabContent-selected");h=n.valueOf()}function c(){return{addTab:w,removeTab:b,NextTabId:r.valueOf(),SelectedTabId:h.valueOf(),TabCount:s.valueOf()}}var u=null,i=null,s=0,r=0,e=null,h=null,l=null,f={TabContentHeight:l};return t&&n.extend(!0,f,t),y(),u=jQuery(this),i=u.attr("id")+"-nicktabs",p()}})(jQuery);